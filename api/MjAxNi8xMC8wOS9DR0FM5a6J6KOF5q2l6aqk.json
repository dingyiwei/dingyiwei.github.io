{"title":"CGAL 安装步骤","date":"2016-10-08T16:00:00.000Z","date_formatted":{"ll":"Oct 9, 2016","L":"10/09/2016","MM-DD":"10-09"},"thumbnail":"2016/10/09/CGAL安装步骤/voronoi.png","link":"2016/10/09/CGAL安装步骤","tags":["CGAL","Qt","Visual Studio"],"updated":"2020-05-28T19:55:47.293Z","content":"<p>原文链接 <a href=\"http://www.cgal.org/download/windows.html\" target=\"_blank\">Download CGAL for Windows</a></p>\n<h2 id=\"准备工作\">准备工作<a href=\"#准备工作\" title=\"准备工作\"></a></h2><ul><li>安装 Visual Studio</li>\n<li>下载并安装 <a href=\"https://cmake.org/download/\" target=\"_blank\">CMake</a></li>\n<li>下载 <a href=\"https://github.com/CGAL/cgal/releases\" target=\"_blank\">CGAL</a> 安装包 CGAL4.8.1.exe</li>\n</ul><h2 id=\"配置-boost\">配置 Boost<a href=\"#配置-boost\" title=\"配置 Boost\"></a></h2><ol><li>下载并安装 <a href=\"http://www.boost.org/users/download/\" target=\"_blank\">Boost</a> 安装包boost_1_61_0-msvc-14.0-64.exe</li>\n<li>添加环境变量：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">BOOST_LIBRARYDIR &#x3D; boost_dir\\lib64-msvc-64.0</span><br><span class=\"line\">BOOST_INCLUDEDIR &#x3D; boost_dir</span><br></pre></td></tr></table></figure></li>\n<li>在环境变量 Path 中添加： <code>boost_dir\\lib64-msvc-64.0</code></li>\n</ol><p>注：相关目录里的 msvc-14/msvc2015 为适配 Visual Studio 2015 版本，Visual Studio 2013 版本对应的目录为 msvc-13/msvc2013，下同。此处 boost 库版本 32 位或 64 位均可。</p>\n<h2 id=\"配置-qt\">配置 Qt<a href=\"#配置-qt\" title=\"配置 Qt\"></a></h2><ol><li>下载并安装 Qt5</li>\n<li>添加环境变量<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QTDIR&#x3D;qt_dir\\Qt5.7.0</span><br></pre></td></tr></table></figure></li>\n<li>在环境变量 Path 中添加： <code>qt_dir\\Qt5.7.0\\msvc2015\\bin</code></li>\n</ol><p>注：若用 CMake 生成项目，下载 Qt 的 32 位或 64 位均可；若想在 Visual Studio 里建立 Qt 项目编写程序，为了与 CGAL 兼容，请下载 32 位。</p>\n<h2 id=\"配置-cgal\">配置 CGAL<a href=\"#配置-cgal\" title=\"配置 CGAL\"></a></h2><ol><li>解压 CGAL 到目录如 <code>CGAL-4.8.1</code>，安装时请选择 32 位版本（选择 64 位会在之后的编译中出现 LINK1112 错误）。</li>\n<li>打开 CMake，将 <code>CGAL-4.8.1</code> 作为源，新建目录 <code>CGAL-4.8.1\\build</code>，将其作为目标，点 Configure，配置完成时提示 Configure Done，此时点 Generate 生成 vs 工程。</li>\n<li>打开 <code>CGAL-4.8.1\\build\\CGAL.sln</code>，生成项目 ALL_BUILD 的 Debug 和 Release 版本，此时将提示 CGAL_Qt5 生成失败，原因是有未知的外部符号，其实是 CGAL 库用了一个未知的宏定义。找到 <code>CGAL-4.8.1\\include\\CGAL\\Qt\\debug_imp1.h</code>，将其中 traverse_resources 函数中的如下语句 <code>qPrintable(xxxx)</code> 改为 <code>xxxx.toStdString()</code>。该错误在 demo 中也有体现，注意修改。重新生成项目，生成成功。</li>\n<li>在步骤 1 中，安装结束时提示写入环境变量失败，因此要手动在 Path 中添加：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CGAL-4.8.1\\auxiliary\\gmp\\lib</span><br><span class=\"line\">CGAL-4.8.1\\build\\bin</span><br></pre></td></tr></table></figure></li>\n</ol><h2 id=\"运行-example-和-demo\">运行 example 和 demo<a href=\"#运行-example-和-demo\" title=\"运行 example 和 demo\"></a></h2><ol><li>在 <code>CGAL-4.8.1\\examples</code> 文件夹中选择一个梨子，把路径设为 CMake 的源（或把文件夹中的 CMakeLists.txt 拖至 CMake 上），目标路径设为 <code>CGAL-4.8.1\\build\\examples\\xxx</code>，点击 Configure 和 Generate</li>\n<li>打开生成的 .sln 文件，在 VS 中编译即可</li>\n<li>运行 demo 同理，注意上面提到的错误代码</li>\n</ol>","prev":{"title":"用 QtConcurrent 防止界面假死","link":"2016/10/10/用QtConcurrent防止界面假死"},"plink":"http://yoursite.com/2016/10/09/CGAL安装步骤/","toc":[{"id":"准备工作","title":"准备工作","index":"1"},{"id":"配置-boost","title":"配置 Boost","index":"2"},{"id":"配置-qt","title":"配置 Qt","index":"3"},{"id":"配置-cgal","title":"配置 CGAL","index":"4"},{"id":"运行-example-和-demo","title":"运行 example 和 demo","index":"5"}]}